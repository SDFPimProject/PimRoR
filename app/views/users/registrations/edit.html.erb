<% provide(:title, "Profil") %>
<div class="content-wrapper">
  <div class="content-box">
    <div class="box-header">
      Profil
    </div>
    <%= form_for(resource, as: resource_name, url: update_user_registration_path(resource_name), html: {method: :put}) do |f| %>
        <%= devise_error_messages! %>
        <div class="box-content">
          <table class="form-display-table">
            <tr>
              <td>
                <%= f.label "E-Mail" %>
              </td>
              <td>
                <%= resource.email %>
              </td>
            </tr>
            <tr>
              <td>
                <%= f.label "Role" %>
              </td>
              <td>
                <%= resource.role %>
              </td>
            </tr>
            <tr>
              <td>
                <%= f.label "Vorname" %>
              </td>
              <td>
                <%= resource.first_name %>
              </td>
            </tr>
            <tr>
              <td>
                <%= f.label "Nachname" %>
              </td>
              <td>
                <%= resource.last_name %>
              </td>
            </tr>
            <tr>
              <td>
                <%= f.label :role %>
              </td>
              <td>
                <%= resource.role %>
              </td>
            </tr>
            <tr>
              <td>
                Projekte
              </td>
              <td>
                <% @user.projects.each do |project| %>
                    <%= project.name %> <br>
                <% end %>
              </td>
            </tr>
            <tr>
              <td>
                Teams
              </td>
              <td>
                <% @user.teams.each do |teams| %>
                    <%= teams.name %> <br>
                <% end %>
              </td>
            </tr>
            <tr>
              <td>
                <%= f.label :street_and_nr %><br/>
              </td>
              <td>
                <%= resource.street_and_nr %><br/>
              </td>
            </tr>
            <tr>
              <td>
                <%= f.label :zip_code %><br/>
              </td>
              <td>
                <%= resource.zip_code %><br/>
              </td>
            </tr>
            <tr>
              <td>
                <%= f.label :birthday %><br/>
              </td>
              <td>
                <%= resource.birthday %>
              </td>
            </tr>
            <tr>
              <td>
                <%= f.label :state %>
              </td>
              <td>
                <%= resource.state %>
              </td>
            </tr>
            <tr>
              <td>
                <%= f.label :country_name %><br/>
              </td>
              <td>
                <%= resource.country_name %>
              </td>
            </tr>
            <tr>
              <td>
                <%= f.label :locality %><br/>
              </td>
              <td>
                <%= resource.locality %>
              </td>
            </tr>
          </table>
        </div>

        <div class="box-header">
          Passwort (frei lassen, für keine Änderung)
        </div>

        <div class="box-content row">
          <div class="field">
            <%= f.password_field :password, autocomplete: "off", placeholder: "Passwort" %>
          </div>

          <div class="field">
            <%= f.password_field :password_confirmation, autocomplete: "off", placeholder: "Passwort bestätigen" %>
          </div>
        </div>

        <div class="box-content">
          <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
              <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
          <% end %>
        </div>

        <div class="box-content row">
          <div class="field input-button">
            <%= f.submit "Aktualisieren" %>
          </div>
          <div>

          </div>
          <div>
            <%= link_to :back do %>
                <div class="field button">
                  zurück
                </div>
            <% end %>
          </div>
        </div>
    <% end %>
  </div>
</div>



